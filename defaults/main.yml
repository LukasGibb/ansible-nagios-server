# defaults file for nagios-server
---
nagios_server_htpasswd_users: []

nagios_server_install:
  - nagios3
  - python-passlib  # Required for the htpasswd Ansible module

nagios_server_contacts:
  - name: root
    alias: root
    service_notification_commands: notify-service-by-email
    host_notification_commands: notify-host-by-email
    email: root@localhost
nagios_server_contactgroups:
  - name: admins
    alias: Nagios Administrators
    members:
      - root
nagios_server_hostgroups:
  # A simple wildcard hostgroup
  - name: all
    alias: All Servers
    members:
      - '*'
  # A list of your Debian GNU/Linux servers
  - name: debian-servers
    alias: Debian GNU/Linux Servers
    members:
      - localhost
  # A list of your web servers
  - name: http-servers
    alias: HTTP servers
    members: 
      - localhost
  # A list of your ssh-accessible servers
  - name: ssh-servers
    alias: SSH servers
    members:
      - localhost

nagios_server_notification_commands:
  # 'notify-host-by-email' command definition
  - command_name: notify-host-by-email
    command_line: |
      /usr/bin/printf "%b" "***** Nagios *****\n\nNotification Type: $NOTIFICATIONTYPE$\nHost: $HOSTNAME$\nState: $HOSTSTATE$\nAddress: $HOSTADDRESS$\nInfo: $HOSTOUTPUT$\n\nDate/Time: $LONGDATETIME$\n" | /usr/bin/mail -s "** $NOTIFICATIONTYPE$ Host Alert: $HOSTNAME$ is $HOSTSTATE$ **" $CONTACTEMAIL$
  # 'notify-service-by-email' command definition
  - command_name: notify-service-by-email
    command_line: |
      /usr/bin/printf "%b" "***** Nagios *****\n\nNotification Type: $NOTIFICATIONTYPE$\n\nService: $SERVICEDESC$\nHost: $HOSTALIAS$\nAddress: $HOSTADDRESS$\nState: $SERVICESTATE$\n\nDate/Time: $LONGDATETIME$\n\nAdditional Info:\n\n$SERVICEOUTPUT$\n" | /usr/bin/mail -s "** $NOTIFICATIONTYPE$ Service Alert: $HOSTALIAS$/$SERVICEDESC$ is $SERVICESTATE$ **" $CONTACTEMAIL$

nagios_server_performance_data_commands:
  # 'process-host-perfdata' command definition
  - command_name: process-host-perfdata
    command_line: |
      /usr/bin/printf "%b" "$LASTHOSTCHECK$\t$HOSTNAME$\t$HOSTSTATE$\t$HOSTATTEMPT$\t$HOSTSTATETYPE$\t$HOSTEXECUTIONTIME$\t$HOSTOUTPUT$\t$HOSTPERFDATA$\n" >> /var/lib/nagios3/host-perfdata.out
  # 'process-service-perfdata' command definition
  - command_name: process-service-perfdata
    command_line: |
      /usr/bin/printf "%b" "$LASTSERVICECHECK$\t$HOSTNAME$\t$SERVICEDESC$\t$SERVICESTATE$\t$SERVICEATTEMPT$\t$SERVICESTATETYPE$\t$SERVICEEXECUTIONTIME$\t$SERVICELATENCY$\t$SERVICEOUTPUT$\t$SERVICEPERFDATA$\n" >> /var/lib/nagios3/service-perfdata.out

nagios_server_timeperiods:
  - name: 24x7
    alias: 24 Hours A Day, 7 Days A Week
    periods:
      sunday: 00:00-24:00
      monday: 00:00-24:00
      tuesday: 00:00-24:00
      wednesday: 00:00-24:00
      thursday: 00:00-24:00
      friday: 00:00-24:00
      saturday: 00:00-24:00
  - name: workhours
    alias: Standard Work Hours
    periods:
      monday: 09:00-17:00
      tuesday: 09:00-17:00
      wednesday: 09:00-17:00
      thursday: 09:00-17:00
      friday: 09:00-17:00
  - name: nonworkhours
    alias: Non-Work Hours
    periods:
      sunday: 00:00-24:00
      monday: 00:00-09:00,17:00-24:00
      tuesday: 00:00-09:00,17:00-24:00
      wednesday: 00:00-09:00,17:00-24:00
      thursday: 00:00-09:00,17:00-24:00
      friday: 00:00-09:00,17:00-24:00
      saturday: 00:00-24:00
  - name: never
    alias: Never
